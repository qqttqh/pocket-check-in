<template>
  <div class="app-root">
    <DynamicBackground />
    <component :is="roomStore.currentRoom? ScanView : ChooseRoomView"></component>
  </div>
</template>

<script setup>
import ChooseRoomView from '@/views/ChooseRoomView.vue'
import ScanView from '@/views/ScanView.vue'

import { useRoomStore } from '@/stores/roomStore'
import DynamicBackground from "@/components/DynamicBackground.vue";

const roomStore = useRoomStore()

// 如果用户名字存在，则连接服务端
if (roomStore.username) {
  roomStore.initWebSocket(roomStore.username)
}
</script>

<style lang="scss" scoped>
//.app-root {
//  min-width: 375px;
//  width: 100vw;
//  height: 100vh;
//  background: radial-gradient(at 13.386656696731302% 49.63665033917057%, hsla(194.4360902255639, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(194.4360902255639, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 22.633351727831254% 42.66512733541066%, hsla(314.43609022556393, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(314.43609022556393, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 3.9355104445246147% 11.794322360933318%, hsla(74.4360902255639, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(74.4360902255639, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 95.83682003263948% 57.98121670186591%, hsla(194.4360902255639, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(194.4360902255639, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 64.9920915259041% 72.12940175517545%, hsla(314.43609022556393, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(314.43609022556393, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 77.567422622339% 97.4137391351224%, hsla(74.4360902255639, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(74.4360902255639, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 93.27778620055702% 87.5419308482026%, hsla(194.4360902255639, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(194.4360902255639, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 90.75940592531929% 77.60358593816973%, hsla(314.43609022556393, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(314.43609022556393, 91.72413793103448%, 71.56862745098039%, 0) 100%), radial-gradient(at 98.08094575141847% 80.12963017265278%, hsla(74.4360902255639, 91.72413793103448%, 71.56862745098039%, 1) 0%, hsla(74.4360902255639, 91.72413793103448%, 71.56862745098039%, 0) 100%);
//}
</style>
